{
  "version": 4,
  "terraform_version": "1.6.2",
  "serial": 5,
  "lineage": "927ff594-14d7-8107-5bb9-ef5fee1a571f",
  "outputs": {
    "zstack_vm": {
      "value": [
        "172.25.126.218",
        "172.25.126.203"
      ],
      "type": [
        "tuple",
        [
          "string",
          "string"
        ]
      ]
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "zstack_images",
      "name": "images",
      "provider": "provider[\"zstack.io/terraform-provider-zstack/zstack\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "images": [
              {
                "architecture": "x86_64",
                "format": "qcow2",
                "guestostype": "Linux",
                "name": "idp2",
                "platform": "Linux",
                "state": "Enabled",
                "status": "Ready",
                "uuid": "bf801e4c9db14f56b71afab01de517fd"
              }
            ],
            "name_regex": "idp2"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "local_file",
      "name": "hosts_cfg",
      "provider": "provider[\"registry.opentofu.org/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "version: '3.8'\nservices:\n  keycloak:\n    image: keycloak-zsthemev2.1:21.1.1\n    network_mode: \"host\"\n    volumes:\n      - ./cache-custom-jgroups-tcp.xml:/opt/keycloak/conf/cache-custom-jgroups-tcp.xml\n    command: start --health-enabled=true --metrics-enabled=true --cache=ispn --hostname-strict=false  --spi-theme-welcome-theme=zstack-theme\n    environment:\n      KC_CACHE: ispn\n      KC_DB: keycloak\n      KC_DB_URL_HOST: 172.25.16.104:3306\n      KC_DB_USERNAME: keycloak\n      KC_DB_PASSWORD: ZStack@123\n      KC_DB_URL_DATABASE: keycloak\n      KC_PROXY: edge\n      KEYCLOAK_ADMIN: admin\n      KEYCLOAK_ADMIN_PASSWORD: password\n      KC_CACHE_CONFIG_FILE: cache-custom-jgroups-tcp.xml\n      KC_HTTP_ENABLED: true\n      DEBUG: \"true\"\n      DEBUG_PORT: \"*:8787\"\n    extra_hosts:\n      - idp0.zstack.io:172.25.126.218\n      - idp1.zstack.io:172.25.126.203\n\n  lb:\n    image: nginx:alpine\n    network_mode: \"host\"\n    volumes:\n      - ./idp.conf:/etc/nginx/conf.d/default.conf\n    extra_hosts:\n      - idp0.zstack.io:172.25.126.218\n      - idp1.zstack.io:172.25.126.203\n",
            "content_base64": null,
            "content_base64sha256": "GE+Q+KHGondLROg7zn/X/x8U1JidE6BGcmIoY/9VehE=",
            "content_base64sha512": "USDu5guJcYoNPVI6Z5orLpwDKltf/vaT16sLCw483COFrW9n6elmOleUUWRMofcXhiOoNBw1XcCN08BoeVWUBA==",
            "content_md5": "1db796d51f6755825492a4b2d12879d7",
            "content_sha1": "e72f2ba373445c2064561af2a47fa378e866dafb",
            "content_sha256": "184f90f8a1c6a2774b44e83bce7fd7ff1f14d4989d13a04672622863ff557a11",
            "content_sha512": "5120eee60b89718a0d3d523a679a2b2e9c032a5b5ffef693d7ab0b0b0e3cdc2385ad6f67e9e9663a579451644ca1f7178623a8341c355dc08dd3c06879559404",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "./docker-compose.yaml",
            "id": "e72f2ba373445c2064561af2a47fa378e866dafb",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "content"
              }
            ]
          ],
          "dependencies": [
            "data.zstack_images.images",
            "zstack_vm.vm"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "terraform_data",
      "name": "remote-exec",
      "provider": "provider[\"terraform.io/builtin/terraform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "ddbe2a1c-d5f6-427a-985b-ef6170ccdd8f",
            "input": null,
            "output": null,
            "triggers_replace": null
          },
          "sensitive_attributes": [],
          "dependencies": [
            "data.zstack_images.images",
            "zstack_vm.vm"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "zstack_vm",
      "name": "vm",
      "provider": "provider[\"zstack.io/terraform-provider-zstack/zstack\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "clusteruuid": null,
            "cupnum": 8,
            "description": "IDP test-1",
            "imageuuid": "bf801e4c9db14f56b71afab01de517fd",
            "ip": "172.25.126.218",
            "l3networkuuids": "de7f26a7304d45aea9e9871a1ba7dbae",
            "memorysize": 2147483648,
            "name": "IDP-1",
            "rootdiskofferinguuid": "e6ed934030244c7c8465975f7a23ae79",
            "rootdisksize": 102400,
            "uuid": "1a7297e23e1e46bb9e73d7c1dda88c51"
          },
          "sensitive_attributes": [],
          "dependencies": [
            "data.zstack_images.images"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "clusteruuid": null,
            "cupnum": 8,
            "description": "IDP test-2",
            "imageuuid": "bf801e4c9db14f56b71afab01de517fd",
            "ip": "172.25.126.203",
            "l3networkuuids": "de7f26a7304d45aea9e9871a1ba7dbae",
            "memorysize": 2147483648,
            "name": "IDP-2",
            "rootdiskofferinguuid": "e6ed934030244c7c8465975f7a23ae79",
            "rootdisksize": 102400,
            "uuid": "962b18dcec2742b6a3d9ddf7513a22f9"
          },
          "sensitive_attributes": [],
          "dependencies": [
            "data.zstack_images.images"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
